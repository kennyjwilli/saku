<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="1211pt" height="305pt"
 viewBox="0.00 0.00 1210.93 305.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 301)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-301 1206.9329,-301 1206.9329,4 -4,4"/>
<!-- user -->
<g id="node1" class="node">
<title>user</title>
<ellipse fill="none" stroke="#000000" cx="645.7912" cy="-279" rx="31.3957" ry="18"/>
<text text-anchor="middle" x="645.7912" y="-275.3" font-family="Times-Roman" font-size="14.00" fill="#000000">user</text>
</g>
<!-- token -->
<g id="node2" class="node">
<title>token</title>
<ellipse fill="none" stroke="#000000" cx="152.7912" cy="-105" rx="36.2938" ry="18"/>
<text text-anchor="middle" x="152.7912" y="-101.3" font-family="Times-Roman" font-size="14.00" fill="#000000">token</text>
</g>
<!-- user&#45;&gt;token -->
<g id="edge1" class="edge">
<title>user&#45;&gt;token</title>
<path fill="none" stroke="#000000" d="M620.4023,-268.1971C571.9758,-247.4428 463.2635,-200.1339 373.7912,-156 361.1301,-149.7547 359.1672,-145.5157 345.7912,-141 298.0233,-124.8738 283.3099,-132.4726 233.7912,-123 221.4109,-120.6317 208.0308,-117.7795 195.7808,-115.0509"/>
<polygon fill="#000000" stroke="#000000" points="196.3283,-111.5865 185.8033,-112.8012 194.7886,-118.4151 196.3283,-111.5865"/>
<text text-anchor="middle" x="504.7912" y="-188.3" font-family="Times-Roman" font-size="14.00" fill="#000000">has a</text>
</g>
<!-- secured function -->
<g id="node3" class="node">
<title>secured function</title>
<ellipse fill="none" stroke="#000000" cx="645.7912" cy="-192" rx="88.2844" ry="18"/>
<text text-anchor="middle" x="645.7912" y="-188.3" font-family="Times-Roman" font-size="14.00" fill="#000000">secured function</text>
</g>
<!-- user&#45;&gt;secured function -->
<g id="edge2" class="edge">
<title>user&#45;&gt;secured function</title>
<path fill="none" stroke="#000000" d="M619.6994,-268.732C600.9133,-259.6526 580.4024,-245.1972 589.7912,-228 592.4912,-223.0546 596.1936,-218.6872 600.4188,-214.857"/>
<polygon fill="#000000" stroke="#000000" points="602.774,-217.4579 608.485,-208.534 598.4555,-211.9488 602.774,-217.4579"/>
<text text-anchor="middle" x="635.2912" y="-231.8" font-family="Times-Roman" font-size="14.00" fill="#000000">wants to call</text>
</g>
<!-- secured function&#45;&gt;user -->
<g id="edge12" class="edge">
<title>secured function&#45;&gt;user</title>
<path fill="none" stroke="#000000" d="M669.034,-209.7782C678.2512,-219.1078 685.6387,-231.0601 680.7912,-243 678.7008,-248.1489 675.4811,-252.9658 671.8242,-257.2969"/>
<polygon fill="#000000" stroke="#000000" points="669.2894,-254.8833 664.9189,-264.5347 674.3542,-259.7154 669.2894,-254.8833"/>
<text text-anchor="middle" x="770.2912" y="-231.8" font-family="Times-Roman" font-size="14.00" fill="#000000">returns when authorized</text>
</g>
<!-- repository -->
<g id="node7" class="node">
<title>repository</title>
<ellipse fill="none" stroke="#000000" cx="750.7912" cy="-105" rx="57.6901" ry="18"/>
<text text-anchor="middle" x="750.7912" y="-101.3" font-family="Times-Roman" font-size="14.00" fill="#000000">repository</text>
</g>
<!-- secured function&#45;&gt;repository -->
<g id="edge9" class="edge">
<title>secured function&#45;&gt;repository</title>
<path fill="none" stroke="#000000" d="M684.0959,-175.6092C694.352,-170.2179 705.0163,-163.6195 713.7912,-156 721.7605,-149.0801 728.9784,-140.1319 734.8793,-131.6673"/>
<polygon fill="#000000" stroke="#000000" points="737.9309,-133.398 740.5282,-123.1265 732.0924,-129.5364 737.9309,-133.398"/>
<text text-anchor="middle" x="796.7912" y="-144.8" font-family="Times-Roman" font-size="14.00" fill="#000000">depends at request</text>
</g>
<!-- session -->
<g id="node10" class="node">
<title>session</title>
<ellipse fill="none" stroke="#000000" cx="287.7912" cy="-105" rx="45.4919" ry="18"/>
<text text-anchor="middle" x="287.7912" y="-101.3" font-family="Times-Roman" font-size="14.00" fill="#000000">session</text>
</g>
<!-- secured function&#45;&gt;session -->
<g id="edge10" class="edge">
<title>secured function&#45;&gt;session</title>
<path fill="none" stroke="#000000" d="M564.2116,-184.9298C517.5012,-179.5928 458.1485,-170.6123 406.7912,-156 404.6978,-155.4044 361.5512,-136.8495 327.8097,-122.2918"/>
<polygon fill="#000000" stroke="#000000" points="329.1525,-119.0593 318.5842,-118.31 326.3785,-125.4862 329.1525,-119.0593"/>
<text text-anchor="middle" x="476.7912" y="-144.8" font-family="Times-Roman" font-size="14.00" fill="#000000">depends at request</text>
</g>
<!-- target function -->
<g id="node11" class="node">
<title>target function</title>
<ellipse fill="none" stroke="#000000" cx="555.7912" cy="-105" rx="79.0865" ry="18"/>
<text text-anchor="middle" x="555.7912" y="-101.3" font-family="Times-Roman" font-size="14.00" fill="#000000">target function</text>
</g>
<!-- secured function&#45;&gt;target function -->
<g id="edge11" class="edge">
<title>secured function&#45;&gt;target function</title>
<path fill="none" stroke="#000000" d="M585.4081,-178.6887C574.1738,-173.4524 563.7862,-166.1587 556.7912,-156 552.2515,-149.4069 550.7929,-141.1115 550.8056,-133.1378"/>
<polygon fill="#000000" stroke="#000000" points="554.3075,-133.2368 551.5345,-123.0113 547.3255,-132.7342 554.3075,-133.2368"/>
<text text-anchor="middle" x="635.2912" y="-144.8" font-family="Times-Roman" font-size="14.00" fill="#000000">calls when authorized</text>
</g>
<!-- exception -->
<g id="node12" class="node">
<title>exception</title>
<ellipse fill="none" stroke="#000000" cx="1053.7912" cy="-105" rx="55.7903" ry="18"/>
<text text-anchor="middle" x="1053.7912" y="-101.3" font-family="Times-Roman" font-size="14.00" fill="#000000">exception</text>
</g>
<!-- secured function&#45;&gt;exception -->
<g id="edge13" class="edge">
<title>secured function&#45;&gt;exception</title>
<path fill="none" stroke="#000000" d="M729.7242,-186.231C772.8757,-181.3685 825.726,-172.4265 870.7912,-156 882.9654,-151.5625 883.7686,-145.833 895.7912,-141 926.7482,-128.5556 962.931,-119.9152 992.8543,-114.2251"/>
<polygon fill="#000000" stroke="#000000" points="993.543,-117.6572 1002.7456,-112.4073 992.2777,-110.7725 993.543,-117.6572"/>
<text text-anchor="middle" x="996.7912" y="-144.8" font-family="Times-Roman" font-size="14.00" fill="#000000">trhows when not authorized</text>
</g>
<!-- identity provider(s) -->
<g id="node4" class="node">
<title>identity provider(s)</title>
<ellipse fill="none" stroke="#000000" cx="98.7912" cy="-279" rx="98.5829" ry="18"/>
<text text-anchor="middle" x="98.7912" y="-275.3" font-family="Times-Roman" font-size="14.00" fill="#000000">identity provider(s)</text>
</g>
<!-- principal -->
<g id="node5" class="node">
<title>principal</title>
<ellipse fill="none" stroke="#000000" cx="98.7912" cy="-192" rx="50.0912" ry="18"/>
<text text-anchor="middle" x="98.7912" y="-188.3" font-family="Times-Roman" font-size="14.00" fill="#000000">principal</text>
</g>
<!-- identity provider(s)&#45;&gt;principal -->
<g id="edge3" class="edge">
<title>identity provider(s)&#45;&gt;principal</title>
<path fill="none" stroke="#000000" d="M98.7912,-260.9735C98.7912,-249.1918 98.7912,-233.5607 98.7912,-220.1581"/>
<polygon fill="#000000" stroke="#000000" points="102.2913,-220.0033 98.7912,-210.0034 95.2913,-220.0034 102.2913,-220.0033"/>
<text text-anchor="middle" x="132.2912" y="-231.8" font-family="Times-Roman" font-size="14.00" fill="#000000">initializes</text>
</g>
<!-- principal&#45;&gt;token -->
<g id="edge7" class="edge">
<title>principal&#45;&gt;token</title>
<path fill="none" stroke="#000000" d="M55.8012,-182.5949C27.614,-174.3792 -1.4297,-160.6652 13.7912,-141 25.2481,-126.1978 71.097,-116.3737 107.0449,-110.7809"/>
<polygon fill="#000000" stroke="#000000" points="107.9818,-114.1802 117.3584,-109.2477 106.9524,-107.2563 107.9818,-114.1802"/>
<text text-anchor="middle" x="87.7912" y="-144.8" font-family="Times-Roman" font-size="14.00" fill="#000000">receives per request</text>
</g>
<!-- principal&#45;&gt;session -->
<g id="edge8" class="edge">
<title>principal&#45;&gt;session</title>
<path fill="none" stroke="#000000" d="M130.0007,-177.6337C162.4892,-162.6787 213.4482,-139.2214 248.6209,-123.0308"/>
<polygon fill="#000000" stroke="#000000" points="250.4741,-126.0308 258.0943,-118.67 247.547,-119.6722 250.4741,-126.0308"/>
<text text-anchor="middle" x="285.2912" y="-144.8" font-family="Times-Roman" font-size="14.00" fill="#000000">generates per request</text>
</g>
<!-- eventstore -->
<g id="node6" class="node">
<title>eventstore</title>
<ellipse fill="none" stroke="#000000" cx="1119.7912" cy="-192" rx="61.1893" ry="18"/>
<text text-anchor="middle" x="1119.7912" y="-188.3" font-family="Times-Roman" font-size="14.00" fill="#000000">eventstore</text>
</g>
<!-- eventstore&#45;&gt;repository -->
<g id="edge4" class="edge">
<title>eventstore&#45;&gt;repository</title>
<path fill="none" stroke="#000000" d="M1118.2043,-173.8443C1116.2124,-162.5941 1111.7515,-148.8402 1101.7912,-141 1090.7792,-132.3319 916.1064,-117.6573 817.4144,-109.9953"/>
<polygon fill="#000000" stroke="#000000" points="817.4725,-106.4895 807.2326,-109.2088 816.9333,-113.4687 817.4725,-106.4895"/>
<text text-anchor="middle" x="1146.2912" y="-144.8" font-family="Times-Roman" font-size="14.00" fill="#000000">initializes</text>
</g>
<!-- resource policy -->
<g id="node8" class="node">
<title>resource policy</title>
<ellipse fill="none" stroke="#000000" cx="655.7912" cy="-18" rx="81.4863" ry="18"/>
<text text-anchor="middle" x="655.7912" y="-14.3" font-family="Times-Roman" font-size="14.00" fill="#000000">resource policy</text>
</g>
<!-- repository&#45;&gt;resource policy -->
<g id="edge5" class="edge">
<title>repository&#45;&gt;resource policy</title>
<path fill="none" stroke="#000000" d="M732.0223,-87.8116C717.8954,-74.8744 698.3377,-56.9636 682.5694,-42.5232"/>
<polygon fill="#000000" stroke="#000000" points="684.912,-39.9226 675.1734,-35.75 680.1844,-45.0849 684.912,-39.9226"/>
<text text-anchor="middle" x="739.2912" y="-57.8" font-family="Times-Roman" font-size="14.00" fill="#000000">contains</text>
</g>
<!-- identity polic(ies) -->
<g id="node9" class="node">
<title>identity polic(ies)</title>
<ellipse fill="none" stroke="#000000" cx="844.7912" cy="-18" rx="89.8845" ry="18"/>
<text text-anchor="middle" x="844.7912" y="-14.3" font-family="Times-Roman" font-size="14.00" fill="#000000">identity polic(ies)</text>
</g>
<!-- repository&#45;&gt;identity polic(ies) -->
<g id="edge6" class="edge">
<title>repository&#45;&gt;identity polic(ies)</title>
<path fill="none" stroke="#000000" d="M769.3626,-87.8116C783.2137,-74.992 802.3412,-57.2889 817.8685,-42.9179"/>
<polygon fill="#000000" stroke="#000000" points="820.6514,-45.1112 825.6131,-35.75 815.8966,-39.9739 820.6514,-45.1112"/>
<text text-anchor="middle" x="833.2912" y="-57.8" font-family="Times-Roman" font-size="14.00" fill="#000000">contains</text>
</g>
<!-- exception&#45;&gt;user -->
<g id="edge14" class="edge">
<title>exception&#45;&gt;user</title>
<path fill="none" stroke="#000000" d="M1103.8981,-113.2229C1135.6995,-119.4716 1172.853,-129.0266 1183.7912,-141 1204.5531,-163.7267 1210.1422,-186.9047 1189.7912,-210 1156.5752,-247.6952 808.2386,-270.1411 687.0635,-276.8554"/>
<polygon fill="#000000" stroke="#000000" points="686.8546,-273.3615 677.0607,-277.4024 687.2369,-280.351 686.8546,-273.3615"/>
</g>
</g>
</svg>
